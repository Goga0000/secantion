(async()=>{let e=new Map,t=0,r=0,l=null,s=null,$=!1,n=0,a=()=>{let e=[];for(let r=8e3;r<=8457;r++){let l=r.toString().padStart(3,"0");e.push(`https://souzmult.ru/secantion/one/Untitled00108${l}.webp`)}return i=e,t=e.length,console.log(`ðŸš€ Souzmult.ru: ${t} Ñ„Ð°Ð¹Ð»Ð¾Ð² (8000-8457)`),!0},i=[],o=async r=>{let l=0,s=0;for(let $=0;$<t;$+=r){let n=$%t;if(!e.has(n)){let a=new Image;a.src=i[n];try{await new Promise((t,r)=>{let $=setTimeout(()=>t(),2e3);a.onload=()=>{clearTimeout($),e.set(n,a),l++,t()},a.onerror=()=>{clearTimeout($),s++,t()}})}catch(o){s++}}}console.log(`âœ… ÐšÑÑˆ: ${e.size}/${t} (Ð¿Ñ€Ð¾Ð¿ÑƒÑÐº: ${s})`)},d=r=>{if(0===e.size||null===s)return;let l=Math.floor((r+t)%t),$=e.get(l);if(!$)for(let n=1;n<=15;n++){let a=(l-n+t)%t,i=(l+n)%t;if($=e.get(a)||e.get(i))break}if(!$)for(let o of e.values()){$=o;break}if($){s.save(),s.clearRect(0,0,1024,1024);let d=$.naturalWidth/$.naturalHeight,u,c,v=0,_=0;d>1?(u=1024,_=(1024-(c=1024/d))/2):(c=1024,v=(1024-(u=1024*d))/2),s.drawImage($,v,_,u,c),s.restore()}},u=e=>{if(!(l=e.querySelector("#vid360-canvas")))return;l.width=l.height=1024,s=l.getContext("2d");let t=e=>{$=!0,n=e.clientX||e.touches?.[0]?.clientX||0,l.style.cursor="grabbing",e.preventDefault()},a=e=>{if(!$)return;let t=e.clientX||e.touches?.[0]?.clientX||0;d(r+=(t-n)*.18),n=t,e.preventDefault()},i=()=>{$=!1,l.style.cursor="grab"};l.addEventListener("mousedown",t,{passive:!1}),l.addEventListener("mousemove",a,{passive:!1}),document.addEventListener("mouseup",i),l.addEventListener("touchstart",t,{passive:!1}),l.addEventListener("touchmove",a,{passive:!1}),document.addEventListener("touchend",i),d(0)};setInterval(()=>{let e=document.querySelector(".t-slds__items-wrapper");if(!e)return;let t=e.querySelectorAll(".t-slds__item");if(t.length<2)return;let r=t[t.length-2];if(r.classList.contains("video-replaced"))return;let l=r.querySelector(".t-null__slds-wrapper");l&&(r.classList.add("video-replaced"),l.innerHTML=`
      <div style="position:relative;width:100%;height:100%;overflow:hidden;">
        <canvas id="vid360-canvas" style="width:100%;height:100%;display:block;cursor:grab;"></canvas>
      </div>
    `,u(l))},500),setTimeout(()=>{document.querySelectorAll('input[type="password"]').forEach(e=>e.autocomplete="new-password")},1e3),(async()=>{a(),await o(25),setTimeout(()=>o(12),250),setTimeout(()=>o(6),700),setTimeout(()=>o(2),1500),setTimeout(()=>o(1),3e3)})()})();
